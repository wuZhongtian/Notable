<WaterMark />
# ç›¸å…³çŸ¥è¯†

## æ¡†æ¶é¢



### SPAå•é¡µåº”ç”¨

- æµè§ˆå™¨ä¸€å¼€å§‹å°±åŠ è½½å¿…é¡»çš„HTMLã€CSSã€JSï¼Œæ‰€æœ‰çš„æ“ä½œåœ¨å•ä¸ªé¡µé¢ä¸Šå®Œæˆï¼Œç”±JSæ§åˆ¶äº¤äº’å’Œå±€éƒ¨åˆ·æ–°
- ä¼˜ç‚¹ï¼š
  - å‰åç«¯åˆ†ç¦»ã€è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œä¸åˆ·æ–°ç•Œé¢ï¼Œæ˜¾ç¤ºæ›´æµç•…
  - å‡è½»æœåŠ¡å™¨å‹åŠ›ï¼Œä¸éœ€è¦é¢‘ç¹è¯·æ±‚ç•Œé¢
- ç¼ºç‚¹ï¼šåˆæ¬¡åŠ è½½æ¯”è¾ƒè€—æ—¶ã€ä¸”ä¸åˆ©äºSEOä¼˜åŒ–

### SSRä¸CSR

- SSR(Server-Side Rendering) ï¼šæœåŠ¡ç«¯ç›´æ¥æŠŠæ¸²æŸ“åçš„é¡µé¢å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæå‡é¡µé¢å“åº”é€Ÿåº¦ã€‚
  - æ¡†æ¶ï¼š
    - åŸºäºVueçš„ï¼šNuxtã€[VitePress](https://vitepress.dev/zh/)ã€[VuePress](https://v2.vuepress.vuejs.org/zh/)
    - åŸºäºReactçš„ï¼šNextã€[Docusaurus](https://www.docusaurus.cn/)ã€[Docsify](https://docsify.js.org/#/)ã€Remix
  - ç‰¹ç‚¹ï¼š
    - ä¸éœ€è¦SPAä¸­çš„ç­‰å¾…é¡µé¢åŠ è½½ > æ‰§è¡ŒJS > åŠ è½½æ•°æ® > æ¸²æŸ“åˆ°ç½‘é¡µ
    - ä¼˜ç‚¹ï¼šæå‡æ€§èƒ½ã€SEOä¼˜åŒ–å‹å¥½
  - ä¸€èˆ¬æ„æˆï¼š
    - æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºï¼šè¿è¡ŒæœåŠ¡å™¨ä¸Šçš„åº”ç”¨ç¨‹åºï¼Œ**ä¸èƒ½ç›´æ¥è¿è¡Œåœ¨é™æ€ç©ºé—´**ï¼Œéœ€è¦ä½¿ç”¨Node.jsè¿è¡Œï¼›è´Ÿè´£æ¥æ”¶è¯·æ±‚ã€æ‰§è¡Œæ¸²æŸ“è¿‡ç¨‹å¹¶è¿”å›é¡µé¢
    - è·¯ç”±ï¼šéœ€è¦æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„ä¸åŒè·¯å¾„ï¼Œè°ƒç”¨å¯¹åº”çš„æ¸²æŸ“é€»è¾‘å’Œæ•°æ®è·å–æ–¹æ³•
    - æ¨¡æ¿å¼•æ“ï¼šç”¨äºå°†é¡µé¢æ¨¡æ¿å’Œæ•°æ®ç»“åˆï¼Œæœ€ç»ˆç”ŸæˆHTMLå†…å®¹ï¼ŒåŸºäºæŸç§MVVMæ¡†æ¶
    - æ•°æ®è·å–ï¼šæœåŠ¡ç«¯è·å–åˆæ¬¡æ¸²æŸ“éœ€è¦çš„æ•°æ®ï¼Œå’Œç”¨æˆ·ä¿¡æ¯ç­‰éœ€è¦å‰ç«¯è·å–çš„æ•°æ®ï¼Œå¯èƒ½æ¶‰åŠæ•°æ®åº“ã€APIæˆ–å…¶ä»–æ¥æºçš„æ•°æ®
    - çŠ¶æ€ç®¡ç†ï¼šéœ€è¦è€ƒè™‘å¦‚ä½•ç®¡ç†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„çŠ¶æ€åŒæ­¥ï¼Œé¿å…å‡ºç°ä¸ä¸€è‡´çš„æƒ…å†µ
    - å®¢æˆ·ç«¯äº¤äº’ï¼šåœ¨é¡µé¢åˆæ¬¡æ¸²æŸ“ä¹‹åï¼Œå®¢æˆ·ç«¯ä»è¦è¿›è¡Œäº¤äº’ï¼Œå¦‚ä½•ä½¿ç”¨JSæ·»åŠ åŠ¨æ€å†…å®¹æˆ–å¤„ç†ç”¨æˆ·æ“ä½œ
- CSR(Client Side Rendering)ï¼šä¾èµ–è¿è¡Œåœ¨å®¢æˆ·ç«¯çš„JSï¼Œç”¨æˆ·é¦–æ¬¡å‘é€è¯·æ±‚åªèƒ½å¾—åˆ°å°éƒ¨åˆ†çš„æŒ‡å¼•æ€§HTMLä»£ç ã€‚ç¬¬äºŒæ¬¡è¯·æ±‚å°†ä¼šè¯·æ±‚æ›´å¤šåŒ…å«HTMLå­—ç¬¦ä¸²çš„JSæ–‡ä»¶
- https://juejin.cn/post/7039151040188383268

![image-20230330093208475](images/å…¶ä»–æ¦‚å¿µ/image-20230330093208475.png)





### MVCä¸MVVM

- MVCï¼š

  > åœ¨ä¼ ç»Ÿçš„éå‰åç«¯åˆ†ç¦»é¡¹ç›®ä¸­ï¼Œåç«¯éœ€è¦å¤„ç†å¤§é‡çš„å†…å®¹ï¼Œå¦‚æœä¸æŒ‰ç…§ä¸€å®šçš„æ¨¡å¼å°±æ˜¯"å¤§ä¹±ç‚–"
  >
  > æ¨¡å‹ Mï¼è§†å›¾(ç”¨æˆ·ç•Œé¢) V - æ§åˆ¶å™¨ C

  - Cå³controlleræ§åˆ¶å™¨ï¼šæ¥å—ç”¨æˆ·çš„è¾“å…¥å¹¶è°ƒç”¨æ¨¡å‹å’Œè§†å›¾å»å®Œæˆç”¨æˆ·çš„éœ€æ±‚ï¼Œæ§åˆ¶å™¨æœ¬èº«ä¸è¾“å‡ºä»»ä½•ä¸œè¥¿å’Œåšä»»ä½•å¤„ç†ã€‚å®ƒåªæ˜¯æ¥æ”¶è¯·æ±‚å¹¶å†³å®šè°ƒç”¨å“ªä¸ªæ¨¡å‹æ„ä»¶å»å¤„ç†è¯·æ±‚ï¼Œç„¶åå†ç¡®å®šç”¨å“ªä¸ªè§†å›¾æ¥æ˜¾ç¤ºè¿”å›çš„æ•°æ®ã€‚
  - Vå³Viewè§†å›¾ï¼šæŒ‡ç”¨æˆ·çœ‹åˆ°å¹¶ä¸ä¹‹äº¤äº’çš„ç•Œé¢ã€‚æ¯”å¦‚ç”±htmlå…ƒç´ ç»„æˆçš„ç½‘é¡µç•Œé¢ï¼Œæˆ–è€…è½¯ä»¶çš„å®¢æˆ·ç«¯ç•Œé¢ã€‚MVCçš„å¥½å¤„ä¹‹ä¸€åœ¨äºå®ƒèƒ½ä¸ºåº”ç”¨ç¨‹åºå¤„ç†å¾ˆå¤šä¸åŒçš„è§†å›¾ã€‚åœ¨è§†å›¾ä¸­å…¶å®æ²¡æœ‰çœŸæ­£çš„å¤„ç†å‘ç”Ÿï¼Œå®ƒåªæ˜¯ä½œä¸ºä¸€ç§è¾“å‡ºæ•°æ®å¹¶å…è®¸ç”¨æˆ·æ“ä½œçš„æ–¹å¼ã€‚
  - Må³modelæ¨¡å‹ï¼šæŒ‡ä¸šåŠ¡è§„åˆ™ã€‚åœ¨MVCçš„ä¸‰ä¸ªéƒ¨ä»¶ä¸­ï¼Œæ¨¡å‹æ‹¥æœ‰æœ€å¤šçš„å¤„ç†ä»»åŠ¡ã€‚è¢«æ¨¡å‹è¿”å›çš„æ•°æ®æ˜¯ä¸­ç«‹çš„ï¼Œæ¨¡å‹ä¸æ•°æ®æ ¼å¼æ— å…³ï¼Œè¿™æ ·ä¸€ä¸ªæ¨¡å‹èƒ½ä¸ºå¤šä¸ªè§†å›¾æä¾›æ•°æ®ï¼Œç”±äºåº”ç”¨äºæ¨¡å‹çš„ä»£ç åªéœ€å†™ä¸€æ¬¡å°±å¯ä»¥è¢«å¤šä¸ªè§†å›¾é‡ç”¨ï¼Œæ‰€ä»¥å‡å°‘äº†ä»£ç çš„é‡å¤æ€§ã€‚

  ![image-20220419204329588](images/å…¶ä»–æ¦‚å¿µ/image-20220419204329588.png)



- MVVM

  > ç”±åç«¯çš„MVCæ¶æ„æ¼”åŒ–è€Œæ¥ï¼Œä¼ ç»Ÿçš„MVCå¹¶ä¸ç¬¦åˆå‰ç«¯çš„å®é™…éœ€æ±‚
  >
  > åˆ’åˆ†ä»£ç èŒè´£ï¼šåŸæœ¬éœ€è¦å‘æ•°æ®ã€å­˜æ•°æ®ã€æ‹¼æ¨¡æ¿ã€æ¸²æŸ“DOM...ï¼ˆå¤§ä¹±ç‚–ï¼‰
  >
  > - Model æ¨¡å‹ï¼šå¯¹åº”Vue  dataä¸­çš„æ•°æ®
  > - View è§†å›¾ï¼šæ¨¡æ¿
  > - ViewModel  è§†å›¾æ¨¡å‹ï¼švueå®ä¾‹å¯¹è±¡ï¼Œ æ˜¯Viewä¸Modelçš„ç»“åˆ

  - ä¼˜ç‚¹ï¼š
    - å°†è§†å›¾ UI å’Œä¸šåŠ¡é€»è¾‘åˆ†å¼€
    - **ä½è€¦åˆ**ã€‚è§†å›¾ï¼ˆViewï¼‰å¯ä»¥ç‹¬ç«‹äºModelå˜åŒ–å’Œä¿®æ”¹ï¼Œä¸€ä¸ªViewModelå¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„"View"ä¸Šï¼Œå½“Viewå˜åŒ–çš„æ—¶å€™Modelå¯ä»¥ä¸å˜ï¼Œå½“Modelå˜åŒ–çš„æ—¶å€™Viewä¹Ÿå¯ä»¥ä¸å˜ã€‚
    - **å¯é‡ç”¨æ€§**ã€‚ä½ å¯ä»¥æŠŠä¸€äº›è§†å›¾é€»è¾‘æ”¾åœ¨ä¸€ä¸ªViewModelé‡Œé¢ï¼Œè®©å¾ˆå¤šviewé‡ç”¨è¿™æ®µè§†å›¾é€»è¾‘ã€‚
    - å®ç°æ•°æ®çš„åŒå‘ç»‘å®šï¼š
      - ä¿®æ”¹æ•°æ® M => è§†å›¾è‡ªåŠ¨æ”¹å˜
      - ä¿®æ”¹è§†å›¾ V => æ•°æ®è‡ªåŠ¨æ”¹å˜

![image-20220419204639547](images/å…¶ä»–æ¦‚å¿µ/image-20220419204639547.png)



### [å¾®å‰ç«¯](https://blog.csdn.net/qq_41694291/article/details/113842872)

> - å¾®å‰ç«¯çš„æ¦‚å¿µå€Ÿé‰´è‡ªåç«¯çš„å¾®æœåŠ¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§£å†³å¤§å‹å·¥ç¨‹åœ¨å˜æ›´ã€ç»´æŠ¤ã€æ‰©å±•ç­‰æ–¹é¢çš„å›°éš¾è€Œæå‡º
> - ä¸¥æ ¼æ¥è®²ï¼Œå®ƒä»¬åªæ˜¯ç”¨äºè§£å†³å¾®å‰ç«¯ä¸­**è¿è¡Œæ—¶å®¹å™¨**çš„ç›¸å…³é—®é¢˜ã€‚é™¤äº†è¿è¡Œæ—¶å®¹å™¨ï¼Œä¸€å¥—å®Œæ•´çš„å¾®å‰ç«¯æ–¹æ¡ˆè¿˜éœ€è¦è§£å†³**ç‰ˆæœ¬ç®¡ç†ã€è´¨é‡ç®¡æ§ã€é…ç½®ä¸‹å‘ã€çº¿ä¸Šç›‘æ§ã€ç°åº¦å‘å¸ƒã€å®‰å…¨ç›‘æµ‹**ç­‰ä¸å·¥ç¨‹å’Œå¹³å°ç›¸å…³çš„é—®é¢˜ï¼Œè€Œè¿™äº›é—®é¢˜ä¸­çš„å¤§éƒ¨åˆ†å·¥ä½œç›®å‰ä»å¤„äºæ¢ç´¢é˜¶æ®µ
> - åœ¨å¾®å‰ç«¯æ¶æ„ä¸­ï¼Œå„ä¸ªå­åº”ç”¨å¯ä»¥åŸºäºä¸åŒçš„æŠ€æœ¯æ¡†æ¶
> - å„ä¸ªå­åº”ç”¨å°†ä¸€äº›ç‰¹å®šçš„ä¸šåŠ¡åŠŸèƒ½å°è£…åœ¨ä¸€ä¸ªä¸šåŠ¡é»‘ç®±ä¸­ï¼Œåªå¯¹å¤–æš´éœ²å°‘é‡ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼›åŸºåº§åº”ç”¨æ ¹æ®è·¯ç”±åœ°å€å˜åŒ–ï¼ŒåŠ¨æ€åœ°åŠ è½½å¯¹åº”çš„ä¸šåŠ¡é»‘ç®±ï¼Œå¹¶å°†å…¶æ¸²æŸ“åˆ°æŒ‡å®šçš„å ä½DOMå…ƒç´ ä¸Š
> - å¾®å‰ç«¯ä¹Ÿå¯ä»¥ä¸€æ¬¡åŠ è½½å¤šä¸ªä¸šåŠ¡é»‘ç®±ï¼Œè¿™ç§°ä¸ºå¤šå®ä¾‹æ¨¡å¼ï¼ˆç±»ä¼¼äºvue-routerçš„å‘½åè§†å›¾ï¼‰

ä¸»æµå¾®å‰ç«¯æ–¹æ¡ˆ

1. **iframe**ï¼šæŠ€æœ¯éš¾åº¦ä½ï¼Œéš”ç¦»æ€§å’Œå…¼å®¹æ€§å¾ˆå¥½ï¼Œä½†æ˜¯æ€§èƒ½å’Œä½¿ç”¨ä½“éªŒæ¯”è¾ƒå·®ï¼Œå¤šç”¨äºé›†æˆç¬¬ä¸‰æ–¹ç³»ç»Ÿï¼›
2. **åŸºåº§æ¨¡å¼**ï¼Œä¸»è¦åŸºäºè·¯ç”±åˆ†å‘ï¼Œ`qiankun`å’Œ`single-spa`å°±æ˜¯åŸºäºè¿™ç§æ¨¡å¼
   - ä¸»è¦åŸºäºè·¯ç”±åˆ†å‘ï¼Œå³ç”±ä¸€ä¸ªåŸºåº§åº”ç”¨æ¥ç›‘å¬è·¯ç”±ï¼Œå¹¶æŒ‰ç…§è·¯ç”±è§„åˆ™æ¥åŠ è½½ä¸åŒçš„åº”ç”¨ï¼Œä»¥å®ç°åº”ç”¨é—´è§£è€¦ï¼›
3. **ç»„åˆå¼é›†æˆ**ï¼Œå³å•ç‹¬æ„å»ºç»„ä»¶ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œç±»ä¼¼npmåŒ…çš„å½¢å¼
4. **EMP**ï¼Œä¸»è¦åŸºäº`Webpack5 Module Federation`
   - åŸºäº`Webpack5 Module Federation`ï¼Œä¸€ç§å»ä¸­å¿ƒåŒ–çš„å¾®å‰ç«¯å®ç°æ–¹æ¡ˆï¼Œå®ƒä¸ä»…èƒ½å¾ˆå¥½åœ°éš”ç¦»åº”ç”¨ï¼Œè¿˜å¯ä»¥è½»æ¾å®ç°åº”ç”¨é—´çš„èµ„æºå…±äº«å’Œé€šä¿¡ï¼›
5. **Web Components**





#### [æ— ç•Œ (wujie-micro.github.io)](https://wujie-micro.github.io/doc/pack/)

```js
// è¿™æ®µä»£ç æ˜¯ä½¿ç”¨æ— ç•Œå‰ç«¯æ¡†æ¶(WujieVue)åˆ›å»ºçš„ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶è®¾ç½®äº†ä¸€äº›å±æ€§å’Œäº‹ä»¶ã€‚

<!-- 
<WujieVue
    width="100%"
    height="100%"
    name="xxx"
    url="http://192.168.88.128:8001/"
    :sync="true"
    :fetch="fetch"
    :props="props"
    :beforeLoad="beforeLoad"
    :beforeMount="beforeMount"
    :afterMount="afterMount"
    :beforeUnmount="beforeUnmount"
    :afterUnmount="afterUnmount"
  ></WujieVue> 
-->

-  `width`  å’Œ  `height`  å±æ€§å®šä¹‰äº†ç»„ä»¶çš„å®½åº¦å’Œé«˜åº¦ï¼Œåˆ†åˆ«è®¾ç½®ä¸º100%ã€‚
-  `name`  å±æ€§å®šä¹‰äº†ç»„ä»¶çš„åç§°ï¼Œè®¾ç½®ä¸º"xxx"ã€‚
-  `url`  å±æ€§å®šä¹‰äº†ç»„ä»¶åŠ è½½çš„URLåœ°å€ï¼Œè®¾ç½®ä¸º"xxx"ã€‚
-  `sync`  å±æ€§å®šä¹‰äº†ç»„ä»¶æ˜¯å¦åŒæ­¥åŠ è½½ï¼Œè®¾ç½®ä¸ºtrueè¡¨ç¤ºåŒæ­¥åŠ è½½ã€‚
-  `fetch`  å±æ€§å®šä¹‰äº†ç»„ä»¶åŠ è½½æ•°æ®çš„æ–¹æ³•ï¼Œå¯ä»¥è‡ªå®šä¹‰å®ç°ã€‚
-  `props`  å±æ€§å®šä¹‰äº†ç»„ä»¶çš„å±æ€§ï¼Œå¯ä»¥ä¼ é€’ç»™ç»„ä»¶çš„æ•°æ®ã€‚
-  `beforeLoad` ã€ `beforeMount` ã€ `afterMount` ã€ `beforeUnmount`  å’Œ  `afterUnmount`  æ˜¯ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œå¯ä»¥åœ¨ç›¸åº”çš„é˜¶æ®µæ‰§è¡Œä¸€äº›æ“ä½œã€‚



```





## æŠ€å·§æ–¹æ³•

#### ä»£ç æ··æ·†

> - [JavaScript æ··æ·†/åŠ å¯† | èœé¸Ÿå·¥å…· (jyshare.com)](https://www.jyshare.com/front-end/6939/)





#### å˜é‡å‘½åç®¡ç†

> ä¾¿äºé¡¹ç›®ç®¡ç†çš„åŒæ—¶é¿å…ç¼–ç æ—¶å†™é”™å•è¯

- åˆ›å»º constant.jsæ–‡ä»¶
- constå®šä¹‰å˜é‡å¹¶å¯¼å‡º `export const INCREMENT = 'increment'`
  - å½“éœ€è¦æ›´æ¢å˜é‡åæ—¶ï¼Œåªéœ€ä¿®æ”¹ä¸€å¤„
- ä½¿ç”¨æ—¶å¯¼å…¥éœ€è¦çš„å˜é‡å³å¯ `import {INCREMENT} from './constant'`





#### ä¸»é¢˜è‰²è®¾ç½®

> [ä¸€æ–‡ææ‡‚å‰ç«¯å¤šä¸»é¢˜é€‚é…æ–¹æ¡ˆ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7049384448256639006)
>
> å‰ç«¯å¸¸è§æ–¹æ¡ˆï¼š
>
> - ä½¿ç”¨æµè§ˆå™¨é»˜è®¤ä¸»é¢˜ä½œä¸ºé»˜è®¤ä¸»é¢˜è‰²ï¼Œç›‘å¬æµè§ˆå™¨çš„ä¸»é¢˜ä½¿ç”¨ã€‚
> - åç»­æ ¹æ®ç”¨æˆ·åœ¨ç•Œé¢æ›´æ¢ä¸»é¢˜æŒ‰é’®ï¼Œç»“åˆæœ¬åœ°å­˜å‚¨è¿›è¡Œç‹¬ç«‹ç®¡ç†ã€‚



##### cssè·å–ä¸»é¢˜è‰²

```css
/* prefers-color-scheme: dark å½“æµè§ˆå™¨æ¨¡å¼ä¸ºæ·±è‰²æ—¶ç”Ÿæ•ˆ */
@media (prefers-color-scheme: dark) {
  .day.dark-scheme   { background:  #333; color: white; }
  .night.dark-scheme { background: black; color:  #ddd; }
}

/* prefers-color-scheme: light å½“æµè§ˆå™¨æ¨¡å¼ä¸ºæµ…è‰²æ—¶ç”Ÿæ•ˆ */
@media (prefers-color-scheme: light) {
  .day.light-scheme   { background: white; color:  #555; }
  .night.light-scheme { background:  #eee; color: black; }
}

/* .day.dark-scheme è¡¨ç¤ºé€‰æ‹©åŒæ—¶æ‹¥æœ‰ dayã€dark-scheme ç±»åçš„æ ‡ç­¾ */
```

##### jsè·å–ä¸»é¢˜è‰²

```js
const isDarkTheme = window.matchMedia("(prefers-color-scheme: dark)");
if (isDarkTheme.matches) { // æ˜¯æ·±è‰²
  // ä¸»é¢˜è®¾ç½®ä¸ºæ·±è‰²ã€‚
} else { // ä¸æ˜¯æ·±è‰²
  // ä¸»é¢˜è®¾ç½®ä¸ºæµ…è‰²ã€‚
}
```



##### æŒ‡å®šå±€éƒ¨ä¸»é¢˜

> color-scheme CSS å±æ€§å…è®¸å…ƒç´ æŒ‡ç¤ºå®ƒå¯ä»¥èˆ’é€‚åœ°å‘ˆç°å“ªäº›é¢œè‰²æ–¹æ¡ˆã€‚
>
> æ“ä½œç³»ç»Ÿé¢œè‰²æ–¹æ¡ˆçš„å¸¸è§é€‰æ‹©ä¸ºâ€œäº®è‰²â€å’Œâ€œæš—è‰²â€ï¼Œæˆ–â€œæ—¥é—´æ¨¡å¼â€å’Œâ€œå¤œé—´æ¨¡å¼â€ã€‚å½“ç”¨æˆ·é€‰æ‹©å…¶ä¸­ä¸€ç§é¢œè‰²æ–¹æ¡ˆæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå¯¹ç”¨æˆ·ç•Œé¢è¿›è¡Œè°ƒæ•´ï¼ŒåŒ…æ‹¬è¡¨å•æ§ä»¶ã€æ»šåŠ¨æ¡å’Œ CSS ç³»ç»Ÿé¢œè‰²çš„ä½¿ç”¨å€¼ã€‚
>
> è¯¥csså±æ€§ï¼Œå¯ä»¥è¦†ç›–æµè§ˆå™¨çš„é»˜è®¤ä¸»é¢˜é…ç½®

```css
/* 
ç¦æ­¢ç”¨æˆ·ä»£ç†è¦†ç›–å…ƒç´ çš„é¢œè‰²æ–¹æ¡ˆã€‚
å¯ä»¥ä½¿ç”¨ color-scheme: only light; åº”ç”¨äºç‰¹å®šçš„å…ƒç´ æˆ– :rootï¼Œä»¥å…³é—­ç”± Chrome çš„è‡ªåŠ¨æ·±è‰²ä¸»é¢˜å¼•èµ·çš„é¢œè‰²è¦†ç›–ã€‚
*/
color-scheme: only light; /* æŒ‡å®šå¿…é¡»ä¸º äº®è‰² */

color-scheme: normal;	/* ä½¿ç”¨æµè§ˆå™¨çš„é»˜è®¤é…è‰²æ–¹æ¡ˆ */
color-scheme: light;    /* äº®è‰² */
color-scheme: dark;		/* æš—è‰² */
```







##### ç›‘å¬å½“å‰ç¯å¢ƒé¢œè‰²æ¨¡å¼çš„å˜åŒ–

- [åœ¨æµè§ˆå™¨ä¸­æ£€æµ‹æ˜¯å¦ä¸ºæ·±è‰²æ¨¡å¼ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7080567228029992996)

```js
var mqList = window.matchMedia('(prefers-color-scheme: dark)');

mqList.addEventListener('change', (event) => {
  if (event.matches) {
    // æš—è‰²æ¨¡å¼
  } else {
    // äº®è‰²æ¨¡å¼
  }
});


// å…¼å®¹æ€§é—®é¢˜ï¼š
/*  
Safari < 14æ—¶ 
æ²¡æœ‰addEventListenerå’Œ .removeEventListener,éœ€è¦ä½¿ç”¨
MediaQueryList.addListener, å’Œ  MediaQueryList.removeListener, 
*/
/* IEä¸æ”¯æŒ */
```





#### è·å–ipåœ°å€

##### å‰ç«¯js

```js
 // è·å–ç”¨æˆ·ipåœ°å€ å€ŸåŠ©æœç‹æ¥å£
let loginIp=''
const script = document.createElement("script")
script.src = "https://pv.sohu.com/cityjson?ie=utf-8"
script.async = true
document.body.appendChild(script)
script.onload = () => loginIp = window.returnCitySN["cip"];
// {"cip": "211.142.190.47", "cid": "410000", "cname": "æ²³å—çœ"};
// loginIp ä¸ºipåœ°å€
```

##### åç«¯node

```js
// è·å–å®¢æˆ·ç«¯ipåœ°å€
app.get('/ip', function (req, res) {
  var clientIp = getIp(req)
  console.log('å®¢æˆ·ç«¯ip',clientIp)
  res.json({'youIp':clientIp});
})
//é€šè¿‡reqçš„hearersæ¥è·å–å®¢æˆ·ç«¯ip
var getIp = function(req) {
  var ip = req.headers['x-real-ip'] || req.headers['x-forwarded-for'] || req.connection.remoteAddres || req.socket.remoteAddress || '';
  if(ip.split(',').length>0){
    ip = ip.split(',')[0];
  }
  return ip;
};
```







#### æ–‡ä»¶ä¸‹è½½æºå¸¦token

> ä½¿ç”¨ msSaveBlobæˆ– msSaveOrOpenBlob   å¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜

```js
// å› ä¸ºå­˜åœ¨å…¼å®¹é—®é¢˜ï¼Œä½¿ç”¨å‰å»ºè®®åˆ¤æ–­ä¸€ä¸‹
 if (window.navigator.msSaveOrOpenBlob) {
    navigator.msSaveBlob(blob, filename);
  } else {
 	// ä½¿ç”¨aæ ‡ç­¾çš„ä¸‹è½½åŠŸèƒ½ã€‚ã€‚ã€‚
  }
// åˆ›å»ºå†…å®¹
var blobObject = new Blob(["I scream. You scream. We all scream for ice cream."]);
// 1.msSaveBlobï¼šåªæä¾›ä¸€ä¸ªä¿å­˜æŒ‰é’®
window.navigator.msSaveBlob(blobObject, 'msSaveBlob_testFile.txt');
// 2.msSaveOrOpenBlobï¼šæä¾›ä¿å­˜å’Œæ‰“å¼€æŒ‰é’®
window.navigator.msSaveOrOpenBlob(blobObject,'msSaveBlobOrOpenBlob_testFile.txt');
```



> ä¸‹è½½æ–‡ä»¶ä½¿ç”¨aæ ‡ç­¾çš„ download å±æ€§ï¼Œä½†aæ ‡ç­¾æ— æ³•è®¾ç½®è¯·æ±‚å¤´ã€è¯·æ±‚å‚æ•°

- [ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½æ–‡ä»¶æ—¶è¦è®¾ç½®è¯·æ±‚å¤´å¦‚å¸¦ä¸Šç”¨äºé‰´æƒçš„token - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/f087cdf57846)

- `<a href="æ–‡ä»¶è·¯å¾„" download="filename">`

  - æ³¨ï¼šå¦‚æœé‡åˆ°ä¸‹è½½ txtã€jpg ç­‰æ–‡ä»¶æ—¶å‡ºç°ç›´æ¥æ‰“å¼€æ–‡ä»¶è€Œä¸æ˜¯ä¸‹è½½æ–‡ä»¶çš„æƒ…å†µæ—¶ï¼Œå¯ä»¥åœ¨ä¸‹è½½åœ°å€å³ url åæ‹¼æ¥ `?response-content-type=application/octet-stream` å³å¯

- objectURL = URL.createObjectURL(fileObject)   è·å–å½“å‰æ–‡ä»¶çš„ä¸€ä¸ªå†…å­˜URL,åŒæ­¥æ‰§è¡Œ

  - å‚æ•°ï¼šç”¨äºåˆ›å»º URL çš„ File å¯¹è±¡ã€Blob å¯¹è±¡æˆ–è€… MediaSource å¯¹è±¡ã€‚

- URL.revokeObjectURL(objectURL)      é‡Šæ”¾ä»–ä»¬  

  - æµè§ˆå™¨åœ¨ document å¸è½½çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾å®ƒä»¬ï¼Œä½†æ˜¯ä¸ºäº†è·å¾—æœ€ä½³æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨çŠ¶å†µï¼Œä½ åº”è¯¥åœ¨å®‰å…¨çš„æ—¶æœºä¸»åŠ¨é‡Šæ”¾

- ![image-20220914152932167](images/å…¶ä»–æ¦‚å¿µ/image-20220914152932167.png)

- ```js
  // è§£å†³æ€è·¯ï¼š
  // 1.ä½¿ç”¨xhr å‘èµ·è¯·æ±‚ï¼Œå¾—åˆ°æ–‡ä»¶æ•°æ®
  // 2.åˆ©ç”¨URL.createObjectURL() å°†xhrè·å–çš„ä¸´æ—¶æ–‡ä»¶ç”Ÿæˆ æœ¬åœ°ä¸´æ—¶åœ°å€
  // 3.ä½¿ç”¨aæ ‡ç­¾ä¸‹è½½æœ¬åœ°ä¸´æ—¶åœ°å€çš„æ–‡ä»¶ âˆš
  this.getBlob(fileUrl || file.thumbUrl).then(blob => {
     this.saveAs(blob, file.name);
   });
  
  /** è·å– blob    url ç›®æ ‡æ–‡ä»¶åœ°å€  */
  getBlob(url) {
    return new Promise(resolve => {
      const xhr = new XMLHttpRequest();
      xhr.open("GET", url, true);
      xhr.setRequestHeader("token",sessionStorage.getItem('token'));
      xhr.responseType = "blob";
      xhr.onload = () => {
        if (xhr.status === 200) {
          resolve(xhr.response);
        }
      };
      xhr.send();
    });
  },
      
  /** ä¿å­˜ blob
   * filename æƒ³è¦ä¿å­˜çš„æ–‡ä»¶åç§°   */
  saveAs(blob, filename) {
    if (window.navigator.msSaveOrOpenBlob) {
      navigator.msSaveBlob(blob, filename);
    } else {
      const link = document.createElement("a");
      const body = document.querySelector("body");
      link.href = window.URL.createObjectURL(blob);
      link.download = filename;
      // fix Firefox
      link.style.display = "none";
      body.appendChild(link);
      link.click();
      body.removeChild(link);
      window.URL.revokeObjectURL(link.href);
    }
  },
      
  // ç”¨fetchå‘é€è¯·æ±‚ å¯¹è¯·æ±‚å›æ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶æµè¿›è¡Œå¤„ç†
  fetch('/upload/user.png').then((res) => {
    res.blob().then((blob) => {
      const blobUrl = window.URL.createObjectURL(blob);
      // è¿™é‡Œçš„æ–‡ä»¶åæ ¹æ®å®é™…æƒ…å†µä»å“åº”å¤´æˆ–è€…urlé‡Œè·å–
      const filename = 'user.txt';
      const a = document.createElement('a');
      a.href = blobUrl;
      a.download = filename;
      a.click();
      window.URL.revokeObjectURL(blobUrl);
    });
  });
  
  ```

  



#### tokenåˆ·æ–°å¹¶å‘å¤„ç†è§£å†³æ–¹æ¡ˆ

1. å»¶æ—¶åˆ·æ–°ï¼šåœ¨tokenå³å°†è¿‡æœŸæ—¶ï¼Œå‰ç«¯é€šè¿‡å¼‚æ­¥è¯·æ±‚è·å–æ–°çš„tokenï¼Œæ­¤æ—¶æ—§tokenè¿˜å¯ä»¥ä½¿ç”¨ã€‚ç­‰åˆ°æ–°tokenè·å–åï¼Œå†å°†æ—§tokenæ›¿æ¢æˆæ–°tokenã€‚ 

   é™åˆ¶è¯·æ±‚é¢‘ç‡ï¼šå‰ç«¯å¯ä»¥é™åˆ¶åˆ·æ–°tokençš„è¯·æ±‚é¢‘ç‡ï¼Œé¿å…å¤šæ¬¡é‡å¤è¯·æ±‚å¯¼è‡´å¹¶å‘é—®é¢˜ã€‚å¯ä»¥è®¾ç½®ä¸€ä¸ªæ—¶é—´çª—å£ï¼Œåœ¨è¯¥æ—¶é—´çª—å£å†…åªå…è®¸åˆ·æ–°ä¸€æ¬¡tokenã€‚

2. è½®è¯¢åˆ·æ–°ï¼šå‰ç«¯å¯ä»¥é€šè¿‡è½®è¯¢çš„æ–¹å¼å®šæ—¶è·å–æ–°çš„tokenï¼Œä»¥ä¿è¯tokençš„å®æ—¶æ€§ã€‚å¯ä»¥è®¾ç½®è½®è¯¢æ—¶é—´é—´éš”ï¼Œé¿å…å¹¶å‘è¯·æ±‚é—®é¢˜ã€‚è€Œéè°ƒç”¨æ¥å£æ—¶è¿›è¡Œåˆ¤æ–­

3. ä½¿ç”¨é”æœºåˆ¶ï¼šå‰ç«¯å¯ä»¥ä½¿ç”¨é”æœºåˆ¶æ¥ä¿è¯åŒæ—¶åªæœ‰ä¸€ä¸ªè¯·æ±‚å¯ä»¥åˆ·æ–°tokenï¼Œå…¶ä»–è¯·æ±‚éœ€è¦ç­‰å¾…é”é‡Šæ”¾åæ‰èƒ½è¿›è¡Œåˆ·æ–°æ“ä½œã€‚å¯ä»¥ä½¿ç”¨JavaScriptçš„é”æœºåˆ¶æˆ–è€…åœ¨åç«¯è®¾ç½®é”æœºåˆ¶ã€‚ğŸ§ª

4. ä½¿ç”¨é˜Ÿåˆ—ï¼šå‰ç«¯å¯ä»¥ä½¿ç”¨é˜Ÿåˆ—æ¥æ§åˆ¶tokenåˆ·æ–°è¯·æ±‚çš„é¡ºåºï¼Œé¿å…å¹¶å‘é—®é¢˜ã€‚å°†åˆ·æ–°tokenè¯·æ±‚æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œæ¯æ¬¡åªå¤„ç†é˜Ÿåˆ—ä¸­çš„ä¸€ä¸ªè¯·æ±‚ï¼Œç­‰å¾…å¤„ç†å®Œåå†å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚





#### å›½é™…åŒ–è¯­è¨€

- https://www.cnblogs.com/morango/p/15185442.html
- https://oldj.net/article/2019/06/15/get-the-language-of-browser/





#### ç¼–è¾‘å™¨æ³¨é‡Šè§„èŒƒ

```js
/**
*
* @param [eye] ä¸­æ‹¬å·è¡¨ç¤ºä¸ºå¯é€‰å€¼
* @param [name='xiaowang'] ç­‰å·è¡¨ç¤ºï¼Œè¯¥å‚æ•°æœ‰é»˜è®¤å€¼
*/
```

![image-20230608095740537](images/å…¶ä»–æ¦‚å¿µ/image-20230608095740537.png)





#### [clsx.jsæ¡ä»¶ç”¨ç±»](https://github.com/lukeed/clsx#readme)

> ä¸classnamesç”¨æ³•ä¸€è‡´ï¼Œbut classnamesé’ˆå¯¹æ‰€æœ‰æµè§ˆå™¨ï¼Œclsxä¸»è¦é’ˆå¯¹reactä¸­ä½¿ç”¨

- åŒååŒ…ä¸­çš„ `clsx()` å‡½æ•°æ˜¯ä¸€ä¸ª JavaScript å®ç”¨ç¨‹åºï¼Œç”¨äºè®¾ç½®è®¾ç½® `className` å±æ€§å€¼çš„æ¡ä»¶ã€‚å®ƒæ¥å—æ— é™æ•°é‡çš„å‚æ•°ï¼Œä¸é™äºä¸€ç§ç‰¹å®šç±»å‹ã€‚

- æœ€ç»ˆï¼Œ`clsx()` å‡½æ•°**è¿”å›ä¸€ä¸ª `string` æ’å€¼**ï¼Œæ£€æŸ¥ JavaScript å˜é‡çš„ `boolean` å€¼å¹¶ç›¸åº”åœ°åº”ç”¨ç±»

- ä¼šè¢«ä¸¢å¼ƒçš„å€¼

  - ```js
    clsx(true, false, '', null, undefined, 0, NaN);
    ```

```jsx
// classNameTwoçš„å­˜åœ¨ä¸å¦ï¼Œæ ¹æ®numberçš„å€¼è¿›è¡ŒåŠ¨æ€å±•ç¤º
import "./styles.css";
import clsx from "clsx";
const classNameOne = "redButton";
const classNameTwo = "blueBorder";
export default function App() {
    const number = 3;
    return (
        <div className="App">
        <button className={clsx(classNameOne, { [classNameTwo]: number > 5 })}>
            A sample button
        </button>
        </div>
    );
}



// => className='foo bar baz quux'
<div className={clsx('foo', { bar: true, duck: false }, 'baz', { quux: true })} />

const menuStyle = clsx({
    [classes.root] : true, //always applies
    [classes.menuOpen] : open //only when open === true
})
```



#### å¤šæ å¸ƒå±€æ‹–æ‹½

[vueå®ç°å¤šæ å¸ƒå±€æ‹–æ‹½ï¼ˆæ”¹å˜ç›’å­çš„å®½åº¦ï¼‰_vueæ‹–æ‹½æ”¹å˜ç›’å­å¤§å°-CSDNåšå®¢](https://blog.csdn.net/Little_Fishs/article/details/120150460)







### Vercel-ç½‘ç«™æ‰˜ç®¡

> å°†ç½‘ç«™æ‰˜ç®¡åˆ°vercelï¼Œè€Œä¸ç”¨è´­ä¹°æœåŠ¡å™¨

- [å®˜ç½‘ï¼Œæ³¨å†Œè´¦å·](https://vercel.com/new)

- å¯¼å…¥ä»£ç ä»“åº“ æˆ– æœ¬åœ°æ“ä½œ

- æœ¬åœ°

  - å…¨å±€å®‰è£… vercel `npm i -g vercel`

  - åœ¨æœ¬åœ°é¡¹ç›®çš„æ ¹ç›®å½• æ–°å»º`vercel.json`

    ![image-20230412113726723](images/å…¶ä»–æ¦‚å¿µ/image-20230412113726723.png)

    ```json
    {
      "rewrites":[{"source":"/api/(.*)"}]
    }
    ```

  - æ ¹ç›®å½•æ–°å»ºapiæ–‡ä»¶å¤¹/index.js

    ![image-20230412113822967](images/å…¶ä»–æ¦‚å¿µ/image-20230412113822967.png)

  - å‘½ä»¤è¡Œç™»é™† vercel `vercel login`  è‡ªåŠ¨è·³è½¬åˆ°ç½‘é¡µè¿›è¡Œç™»é™†ï¼ŒæˆåŠŸç¤ºä¾‹ï¼š

    ![image-20230412114024789](images/å…¶ä»–æ¦‚å¿µ/image-20230412114024789.png)

  - æœ¬åœ°å‘½ä»¤è¡Œç»§ç»­è¾“å…¥ `vercel`  è¿›è¡Œæ¨é€ï¼Œè¿›è¡Œé…ç½®ï¼Œè‡ªåŠ¨ä¸Šä¼ æˆåŠŸ

  - åç»­ä¿®æ”¹åï¼Œåªéœ€è¾“å…¥ vercel   ä¼šè‡ªåŠ¨æ¨é€

  - æ›´å¤šé…ç½®...







### å‰ç«¯å®‰å…¨

- [å¦‚ä½•å®‰å…¨ä¼ è¾“å­˜å‚¨ç”¨æˆ·å¯†ç ï¼Ÿ](https://www.cnblogs.com/jay-huaxiao/p/14224777.html#:~:text=æ€»ç»“ 1 å› æ­¤ï¼Œä¸€èˆ¬ä½¿ç”¨https åè®® %2B éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆå¦‚RSAï¼‰æ¥ä¼ è¾“ç”¨æˆ·å¯†ç ï¼Œä¸ºäº†æ›´åŠ å®‰å…¨ï¼Œå¯ä»¥åœ¨å‰ç«¯æ„é€ ä¸€ä¸‹éšæœºå› å­å“¦ã€‚ 2,ä½¿ç”¨BCrypt %2B ç›å­˜å‚¨ç”¨æˆ·å¯†ç ã€‚ 3 åœ¨æ„ŸçŸ¥åˆ°æš´åŠ›ç ´è§£å±å®³çš„æ—¶å€™ï¼Œ ã€Œå¼€å¯çŸ­ä¿¡éªŒè¯ã€å›¾å½¢éªŒè¯ç ã€è´¦å·æš‚æ—¶é”å®šã€ ç­‰é˜²å¾¡æœºåˆ¶æ¥æŠµå¾¡æš´åŠ›ç ´è§£ã€‚)
- JavaScriptåº“**ã€Œjsencryptã€**



### å‰ç«¯å¯è§‚æµ‹æ€§

> å‰ç«¯å¯è§‚æµ‹æ€§æ˜¯ä¸€å¥—ç§‘å­¦å®Œæ•´çš„æ€§èƒ½æ£€æµ‹ã€åˆ†æã€ä¼˜åŒ–ä½“ç³»ã€‚åŒ…å«ï¼šé¡µé¢æŒ‡æ ‡ã€ç½‘ç»œä¼ è¾“ã€æœåŠ¡å¯é æ€§ã€ç”¨æˆ·ä½“éªŒã€‚
>
> - https://www.bilibili.com/video/BV19a411A72Y/?spm_id_from=333.337.search-card.all.click&vd_source=49059bedc59884104ea6ef0a6e552378
> - [Clarity (microsoft.com)](https://clarity.microsoft.com/)
> - [ç™¾åº¦ç»Ÿè®¡â€”â€”ä¸€ç«™å¼æ™ºèƒ½æ•°æ®åˆ†æä¸åº”ç”¨å¹³å° (baidu.com)](https://tongji.baidu.com/web5/10000607949/welcome/login)

- æ„å»ºå‰ç«¯å¯è§‚æµ‹æ€§çš„åŸºç¡€æ¡ä»¶

  - åœ¨æµè§ˆå™¨æœ‰ä¸€å¥— æ”¶é›†å‘é€æŒ‡æ ‡çš„é€»è¾‘

  - æœåŠ¡å™¨å¯¹æŒ‡æ ‡è¿›è¡Œå­˜å‚¨å’Œå¤„ç†ÃŸ

  - å¯¹æŒ‡æ ‡è¿›è¡Œå¯è§†åŒ–å±•ç¤º
    - [timeline](https://ilkeryilmaz.github.io/timelinejs/)æ—¶é—´è½´ã€
      - three.jsã€D3.jsã€Echartsã€[scichart](https://www.scichart.com/examples/javascript-chart/)ã€[chart.js](https://www.chartjs.org/docs/latest/)ã€

- å€ŸåŠ©ç¬¬ä¸‰æ–¹äº§å“
  - è§‚æµ‹äº‘ 
  - å¬äº‘
  - å‹ç›Ÿ+

![image-20230327173427967](images/å…¶ä»–æ¦‚å¿µ/image-20230327173427967.png)

![img](images/å…¶ä»–æ¦‚å¿µ/20230327173518695.png)

![img](images/å…¶ä»–æ¦‚å¿µ/20230327173533472.png)

- 

#### å¼‚å¸¸æ•è·

- ç›‘å¬å…¨å±€æœªæ•è·çš„é”™è¯¯`ç›‘å¬ windowçš„ erroräº‹ä»¶`

  ```js
  window.addEventListener("error",function(event){
    // eventé”™è¯¯äº‹ä»¶å¯¹è±¡
    event.message // æŠ¥é”™ä¿¡æ¯
    event.filename // æŠ¥é”™çš„æ–‡ä»¶
    event.lineno   event.columnNo // æŠ¥é”™çš„è¡Œåˆ—
    event.error.stack // æŠ¥é”™çš„å †æ ˆä¿¡æ¯
    
    let log = {}
  })
  ```

  



### å‰ç«¯æ€§èƒ½ä¼˜åŒ–

#### æ€§èƒ½æŒ‡æ ‡

> - [å‰ç«¯æ€§èƒ½ä¼˜åŒ– â€”â€” é¡µé¢æ€§èƒ½æŒ‡æ ‡åŠå·¥å…·-CSDNåšå®¢](https://blog.csdn.net/m0_60166861/article/details/134331310)
> - [ã€ä¸€ã€‘å‰ç«¯æ€§èƒ½ç›‘æ§ä¹‹è¯·æ±‚è€—æ—¶ç»Ÿè®¡ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7218121928799764535)
> - [å¦‚ä½•è®¡ç®—æµè§ˆå™¨é¡µé¢çš„å¸§æ•° FPSï¼Ÿ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/590686870)



##### æ‰“åŒ…è§†å›¾åˆ†æ

> vue3ä¸­   rollup-plugin-visualizer
>
> [vite3+vue3 é¡¹ç›®æ‰“åŒ…ä¼˜åŒ–å®æˆ˜ä¹‹-è§†å›¾åˆ†æï¼ˆrollup-plugin-visualizerï¼‰ã€CDNå¼•å…¥ã€ä¾èµ–åˆ†åŒ…ã€gzipå‹ç¼©ã€history404é—®é¢˜-CSDNåšå®¢](https://blog.csdn.net/g18204746769/article/details/127431733)



##### Lighthouseå‰ç«¯æ€§èƒ½åˆ†æ

- [lighthouseå·¥å…·](https://blog.csdn.net/m0_43550804/article/details/129756073#:~:text=Lighthouseæ˜¯ä¸€ä¸ªå¼€æºçš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œç”¨äºå¸®åŠ©æ”¹è¿›ç½‘ç»œåº”ç”¨çš„è´¨é‡ã€‚ å¯å°†å…¶ä½œä¸ºä¸€ä¸ª,Chromeæ‰©å±•ç¨‹åºè¿è¡Œï¼Œæˆ–ä»å‘½ä»¤è¡Œè¿è¡Œã€‚ Lighthouseåˆ†æwebåº”ç”¨ç¨‹åºå’Œwebé¡µé¢ï¼Œæ”¶é›†å…³äºå¼€å‘äººå‘˜æœ€ä½³å®è·µçš„ç°ä»£æ€§èƒ½æŒ‡æ ‡å’Œè§è§£ï¼Œè®©å¼€å‘äººå‘˜æ ¹æ®ç”Ÿæˆçš„è¯„ä¼°é¡µé¢ï¼Œæ¥è¿›è¡Œç½‘ç«™ä¼˜åŒ–å’Œå®Œå–„ï¼Œæé«˜ç”¨æˆ·ä½“éªŒã€‚)



#### é¡¹ç›®ä¼˜åŒ–



##### ä½¿ç”¨ä¸‰æ–¹CDNã€ä¾èµ–åˆ†åŒ…ã€

> [vite3+vue3 é¡¹ç›®æ‰“åŒ…ä¼˜åŒ–å®æˆ˜ä¹‹-è§†å›¾åˆ†æï¼ˆrollup-plugin-visualizerï¼‰ã€CDNå¼•å…¥ã€ä¾èµ–åˆ†åŒ…ã€gzipå‹ç¼©ã€history404é—®é¢˜-CSDNåšå®¢](https://blog.csdn.net/g18204746769/article/details/127431733)
>
> - å€ŸåŠ©CDNçš„ç‰¹æ€§ï¼Œå¯¹æ‰“åŒ…åçš„ä½“ç§¯è¿›è¡Œåˆ†æï¼Œå°†éƒ¨åˆ†è¾ƒå¤§çš„ç¬¬ä¸‰æ–¹åŒ…æ’é™¤åœ¨æ‰“åŒ…ä¹‹å¤–ï¼Œå¹¶ä½¿ç”¨scriptæ–¹å¼å¼•å…¥åˆ°é¡¹ç›®ä¸­ä½¿ç”¨
>   - å¸¸è§å…¬å…±CDNï¼ˆæµ‹è¯•æ—¶é—´ 24.04.09    fabricjs5.3.0ï¼‰
>     - [å­—èŠ‚è·³åŠ¨é™æ€èµ„æºå…¬å…±åº“ (bytedance.com)](https://cdn.bytedance.com/)
>     - [jsDelivr](https://www.jsdelivr.com/)     æ— å¯¹åº”ç‰ˆæœ¬èµ„æº
>     - [cdnjs](https://cdnjs.com/)     1.17s   834ms
>     - [Staticfile CDN](https://www.staticfile.net/)    260ms
>     - [UNPKG](https://unpkg.com/)     
>     - è‡ªæœ‰æœåŠ¡å™¨         101ms    17ms
> - viteé…ç½®
>   - [MMF-FE/vite-plugin-cdn-import - Vite ä¸­æ–‡æ–‡æ¡£ (viterc.cn)](https://www.viterc.cn/en/vite-plugin-cdn-import.html)
>   - [vite-plugin-cdn-import-async - npm (npmjs.com)](https://www.npmjs.com/package/vite-plugin-cdn-import-async)
>   - æ³¨æ„ï¼š
>     - å®¹æ˜“ç”±äºé”™ç»¼å¤æ‚çš„ä¾èµ–å…³ç³»
>     - æˆ–è€…å¼‚æ­¥è®°è½½çš„é—®é¢˜ï¼Œå¯¼è‡´æ‰§è¡Œæ—¶æŠ¥é”™

```js
// vite-plugin-cdn-import
pnpm install vite-plugin-cdn-import --save-dev
// vite.config.js åŸºæœ¬ç”¨æ³•
import reactRefresh from '@vitejs/plugin-react-refresh'
import importToCDN from 'vite-plugin-cdn-import'

import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import { autoComplete, Plugin as importToCDN } from 'vite-plugin-cdn-import';

export default defineConfig({
  plugins: [vue(),
   importToCDN({
    prodUrl: 'https://unpkg.com/{name}@{version}/{path}',
    modules: [
      autoComplete('vue'),
      {
        name: 'element-plus',
        var: 'ElementPlus', //æ ¹æ®main.jsä¸­å®šä¹‰çš„æ¥
        version: '2.2.17',
        path: 'dist/index.full.js',
        css: 'dist/index.css'
      },
      {
        name: 'vue-demi',
        var: 'VueDemi', //æ ¹æ®main.jsä¸­å®šä¹‰çš„æ¥
        version: '0.13.11',
        path: 'lib/index.iife.js'
      },
      {
        name: '@element-plus/icons-vue',
        var: 'ElementPlusIconsVue', //æ ¹æ®main.jsä¸­å®šä¹‰çš„æ¥
        version: '2.0.9',
        path: 'dist/index.iife.min.js'
      },
    ],
  })
],
)}




// viteä¸­  ä½¿ç”¨ vite-plugin-cdn-import   æˆ–  vite-plugin-cdn-import-asyncï¼ˆæ€§èƒ½æ›´é«˜ï¼Ÿï¼Œå¯è®¾ç½® defer/async ï¼‰
pnpm install vite-plugin-cdn-import-async --save-dev

// vite.config.js åŸºæœ¬ç”¨æ³•
import cdnImport from 'vite-plugin-cdn-import-async'	// å¼•å…¥cdnImport

export default {
    plugins: [
        cdnImport({
            modules: [
                {
                    name: 'react',
                    var: 'React',
                    mode: 'async', // 'async' atrribute will be added to its <script> tag.
                    path: `https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js`,
                },
                {
                    name: 'lottie-web',
                    var: 'lottie',
                    mode: 'defer', // 'defer' atrribute will be added to its <script> tag.
                    path: `https://cdn.jsdelivr.net/npm/lottie-web@5.10.0/build/player/lottie.min.js`,
                },
                {
                    name: 'axios',  // Module without 'mode' param will be loaded synchronously.
                    var: 'axios',
                    path: 'https://cdn.jsdelivr.net/npm/axios@1.2.1/dist/axios.min.js',
                }
            ],
        }),
    ],
}

```



##### å¼€å¯gzip

> Nginxå¼€å¯Gzip   apachå¼€å¯gzip  å‰ç«¯è„šæ‰‹æ¶å¼€å¯gzip  cdnå¼€å¯gzip
>
> [nginxä¸­å¦‚ä½•è®¾ç½®gzipï¼ˆæ€»ç»“ï¼‰ - èŒƒä»ä¹‰ - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/Renyi-Fan/p/11047490.html)







#### ç½‘é¡µåŠ è½½è¿‡ç¨‹

- webå‰ç«¯çš„å¼€å‘ä¸éƒ¨ç½²è¿‡ç¨‹
  - ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨ï¼Œå€ŸåŠ©ç½‘å€å‘æœåŠ¡å™¨è·å–ã€åŠ¨æ€çš„ã€å¢é‡å¼ã€‘çš„é™æ€èµ„æº
  - ![image-20211130230533113.png](images/å…¶ä»–æ¦‚å¿µ/image-20211130230533113.png)



- ç”¨æˆ·è¾“å…¥url ï¼Œæµè§ˆå™¨è§£æåå‘é€åˆ°DNSæœåŠ¡å™¨ï¼ŒæŸ¥è¯¢ipåœ°å€ã€DNSç¼“å­˜ï¼Œé™ä½dnsæŸ¥è¯¢çš„æ—¶é—´ï¼Ÿã€‘

- å€ŸåŠ©åŸºç¡€ç½‘ç»œï¼Œä¼ è¾“åˆ°å¯¹åº”çš„æœåŠ¡å™¨ã€ä½¿ç”¨CDNè¯·æ±‚é™æ€èµ„æºï¼Œè§£å†³ç½‘ç»œç¼“å­˜ã€çº¿è·¯é€‰æ‹©ç­‰é—®é¢˜ï¼Œä½†é»˜è®¤æºå¸¦çš„cookieæ˜¯ä¸€ç§æµªè´¹ï¼Œä¸åŒçš„cdnåŸŸåå¯ä»¥è§£å†³ï¼›ä½†cdnæ— æ³•ä½œä¸ºæ¥å£ã€‘

- æœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚åï¼Œè¿›è¡Œè¯·æ±‚çš„åˆ†å‘å¤„ç†Contorller

  - Modelå±‚ï¼Œè¿›è¡Œæ•°æ®äº¤äº’ï¼Œè¯»å–æ•°æ®åº“ï¼Œè·å–æ•°æ®
  - æœ€åå°†æ¸²æŸ“å¥½çš„é¡µé¢é€šè¿‡Viewï¼Œè¿”ä¼šç»™ç½‘ç»œ--æµè§ˆå™¨

- æµè§ˆå™¨æ¥å—æ•°æ®ã€ å‡å°‘httpè¯·æ±‚çš„æ¬¡æ•°å’Œå¤§å°ï¼Ÿã€‘

  - randerè¿‡ç¨‹ï¼Œæµè§ˆå™¨å°†æœåŠ¡å™¨è¿”å›çš„æ•°æ®(html/css/js...)è¿›è¡Œæ¸²æŸ“ã€æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼Ÿã€‘

  - æµè§ˆå™¨ç”ŸæˆDOMå’ŒBOMæ ‘ï¼Œåœ¨è¿›è¡Œcssæ¸²æŸ“ï¼Œç„¶åå†å»æ‰§è¡Œjsç›¸å…³çš„ä»£ç ã€æ¸²æŸ“è¿‡ç¨‹çš„ä¼˜åŒ–ï¼Ÿã€‘![image-20211130230829988](images/å…¶ä»–æ¦‚å¿µ/image-20211130230829988.png)





#### èµ„æºçš„åˆå¹¶ä¸å‹ç¼©

**ä½œç”¨ç‚¹ï¼šå€ŸåŠ©æ–‡ä»¶çš„åˆå¹¶å‡å°‘httpè¯·æ±‚æ¬¡æ•°ï¼›å€ŸåŠ©æ–‡ä»¶å‹ç¼©ï¼Œå‡å°‘è¯·æ±‚æ–‡ä»¶çš„å¤§å°**

##### htmlå‹ç¼©

- å‹ç¼©åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­æœ‰æ„ä¹‰ï¼Œä½†åœ¨HTMLä¸­ä¸æ˜¾ç¤ºçš„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–æ„ä¹‰çš„å­—ç¬¦ï¼Œå¦‚ï¼šHTMLæ³¨é‡Šä¹Ÿå¯ä»¥è¢«å‹ç¼©
- HTMLå‹ç¼©çš„æ•ˆæœä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œä½†å¯¹äºå¤§é‡ç”¨æˆ·è®¿é—®çš„ç½‘é¡µæ¥è¯´ï¼Œæ¯kbçš„æµé‡éƒ½ä¸å®¹å¿½è§†

##### htmlå‹ç¼©æ–¹å¼

- ä½¿ç”¨ç½‘ç«™åœ¨çº¿å‹ç¼©ï¼Œé€‚åˆåˆå­¦è€…ï¼ˆä½†ä¸€èˆ¬ä¸ç”¨ï¼Œä½¿ç”¨webpack...ï¼‰
- node.js æä¾›äº† `html-minifier`å·¥å…·ï¼ˆå¯ä»¥è¿›è¡Œå¾ˆå¤šçš„é…ç½®ï¼Œå…·æœ‰å¯æ‰©å±•æ€§ï¼‰
- åç«¯æ¨¡æ¿å¼•æ“æ¸²æŸ“å‹ç¼©ï¼ˆä¼šå¢åŠ æœåŠ¡ç«¯çš„è®¡ç®—é‡ï¼‰

##### csså‹ç¼©

- ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œå‹ç¼©
- ä½¿ç”¨`html-minifier`åº“å¯¹htmlä¸­çš„cssè¿›è¡Œå‹ç¼©
- ä½¿ç”¨`clean-css`åº“å¯¹cssè¿›è¡Œå‹ç¼©

##### jså‹ç¼©ä¸æ··ä¹±

- ä½œç”¨ï¼šæ— æ•ˆå­—ç¬¦çš„åˆ é™¤ã€å‰”é™¤æ³¨é‡Šã€ä»£ç è¯­ä¹‰çš„ç¼©å‡å’Œä¼˜åŒ–ã€ä»£ç ä¿æŠ¤(é™ä½å¯è¯»æ€§)
- æ–¹æ³•ï¼š
  - ä½¿ç”¨ç½‘ç«™åœ¨çº¿å‹ç¼©
  - ä½¿ç”¨`html-minifier`é…ç½®ï¼Œå¯¹jsè¿›è¡Œå‹ç¼©
  - ä½¿ç”¨`uglifyjs2`å¯¹jsè¿›è¡Œå‹ç¼©ã€ã€‘







##### å­—ä½“å‹ç¼©

> - [font-spider/README-ZH-CN.md at c1547c4da8c38e0625145be5c4826b444ce28997 Â· aui/font-spider (github.com)](https://github.com/aui/font-spider/blob/HEAD/README-ZH-CN.md)
> - [ttf å­—ä½“åŒ…å‹ç¼©ä¼˜åŒ– - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7161359760023879693)
>
> ä½¿ç”¨ font-spider åŒ…ï¼Œå¯¹ä½¿ç”¨åˆ°çš„å­—ä½“è¿›è¡Œæå–å­—ä½“æ–‡ä»¶ï¼Œå®ç°å‹ç¼©ã€‚





##### æ–‡ä»¶åˆå¹¶

- ä¸åˆå¹¶å­˜åœ¨çš„é—®é¢˜

  - æ–‡ä»¶ä¸æ–‡ä»¶ä¹‹é—´æœ‰æ’å…¥çš„ä¸Šè¡Œè¯·æ±‚ï¼Œå¢åŠ äº†N-1ä¸ªç½‘ç»œå»¶è¿Ÿ

  - å—ä¸¢åŒ…å½±å“æ›´ä¸ºä¸¥é‡

  - ç»è¿‡ä»£ç†æœåŠ¡å™¨æ—¶å¯èƒ½ä¼šè¢«æ–­å¼€

  - ![image-20211201103045973](images/å…¶ä»–æ¦‚å¿µ/image-20211201103045973.png)
- åˆå¹¶åçš„é—®é¢˜

  - é¦–å±æ¸²æŸ“é—®é¢˜ï¼Œåˆå¹¶åæ–‡ä»¶å˜å¤§ï¼Œé¦–å±æ¸²æŸ“å¯èƒ½å‡æ…¢ï¼Œéœ€è¦é€‚å½“åˆ†å¼€
  - ç¼“å­˜å¤±æ•ˆé—®é¢˜ï¼Œä»»ä¸€æ–‡ä»¶çš„æ”¹åŠ¨ï¼Œä¼šå¯¼è‡´æ–‡ä»¶ç¼“å­˜å¤§é¢ç§¯å¤±æ•ˆçš„é—®é¢˜
- æ–‡ä»¶åˆå¹¶çš„å»ºè®®

  - å…¬å…±åº“åˆå¹¶ï¼Œå¯¹é•¿æœŸä¸ç»å¸¸æ”¹åŠ¨çš„å†…åˆå¹¶
  - ä¸åŒé¡µé¢çš„åˆå¹¶ï¼Œå¯¹äºå•é¡µåº”ç”¨ï¼ŒåªåŠ è½½å½“å‰é¡µé¢ï¼Œåˆ†åˆ«æ‰“åŒ…ã€‚
  - è§æœºè¡Œäº‹ï¼Œéšæœºåº”å˜ã€‚
- æ–‡ä»¶åˆå¹¶æ–¹æ³•

  - ä½¿ç”¨åœ¨çº¿ç½‘ç«™è¿›è¡Œ
  - ä½¿ç”¨node.jså®ç°æ–‡ä»¶åˆå¹¶ï¼Œå¤šç§å¤šæ ·çš„åº“ï¼Œè‡ªè¡ŒæŒ‘é€‰



#### æ“ä½œæµç¨‹

##### åœ¨çº¿å‹ç¼©å·¥å…·

- æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œå¯èƒ½ä¸æ”¯æŒéƒ¨åˆ†æ–‡ä»¶æ ¼å¼çš„å‹ç¼©
- åˆ†åˆ«æ‰‹åŠ¨å¯¹åŸç”Ÿä»£ç è¿›è¡Œå‹ç¼©
- åœ¨jså‹ç¼©è¿‡ç¨‹ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨æ ¹æ®ä¾èµ–å…³ç³»å‹ç¼©åå†åˆå¹¶
- ![image-20211201105304024](images/å…¶ä»–æ¦‚å¿µ/image-20211201105304024.png)

##### æ„å»ºå·¥å…·çš„ä¼˜ç‚¹

- å¯¹äºå¤§é‡çš„æ–‡ä»¶å¯ä»¥è¿›è¡Œé«˜æ•ˆå¿«é€Ÿçš„æ„å»º
- å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§
- å¯æ ¹æ®é…ç½®è¿›è¡Œå®šåˆ¶åŒ–çš„è®¾ç½®

##### webpackæ„å»ºå·¥å…·(ä½¿ç”¨å†å­¦ä¹ )

##### fis3æ„å»ºå·¥å…·(ä½¿ç”¨å†å­¦ä¹ )

- æµç¨‹ï¼š
  - å•æ–‡ä»¶ç¼–è¯‘è¿‡ç¨‹ï¼Œå½¢æˆå®Œæ•´çš„ç»“æ„
  - æ‰“åŒ…ï¼Œä¾æ®æºæ–‡ä»¶çš„å†…å®¹ï¼Œè¿›è¡Œå‹ç¼©å’Œæ··ä¹±

![image-20211201105540261](images/å…¶ä»–æ¦‚å¿µ/image-20211201105540261.png)





#### å›¾ç‰‡ç›¸å…³ä¼˜åŒ–

**ä½¿ç”¨å‚è€ƒï¼šæ–‡ä»¶å¤§å°ã€è‰²å½©çš„ä¸°å¯Œåº¦  æ ¹æ®ä¸åŒåœºæ™¯è¿›è¡Œé€‰æ‹©**

##### ç±»å‹åˆ†ç±»

###### JPGå›¾ç‰‡- æœ‰æŸå‹ç¼©

- æƒ…æ™¯ï¼šå¤§éƒ¨åˆ†**ä¸éœ€è¦é€æ˜å›¾ç‰‡**çš„ä¸šåŠ¡åœºæ™¯
- åŸå§‹çš„æ•°æ®ä¸å®é™…jpgå‹ç¼©åçš„æ•°æ®æ˜¯ä¸åŒçš„
- ä½†å¤§å¤šæ•°jpgå‹ç¼©å¹¶ä¸å½±å“è‚‰çœ¼è§‚å¯Ÿ
- å¯èƒ½ä¸æ”¯æŒé€æ˜ï¼Œä½†å®é™…ä½¿ç”¨å¤§éƒ½å¯ä»¥é€æ˜

###### png8/png24/png32

- æƒ…æ™¯ï¼šå¤§éƒ¨åˆ†éœ€è¦**é€æ˜å›¾ç‰‡**çš„ä¸šåŠ¡åœºæ™¯
- png8ï¼š256è‰²+æ”¯æŒé€æ˜ï¼Œ
  - å†…éƒ¨å…¶å®æ˜¯ä¸€ä¸ªé¢œè‰²çš„ç´¢å¼•è¡¨ï¼Œæ¯ä¸ªé¢œè‰²å°±æ˜¯2^8çš„ç´¢å¼•å€¼ï¼Œå› æ­¤ä¼šå°å¾ˆå¤š
  - é€‚ç”¨äºé¢œè‰²å˜åŒ–ä¸ç‰¹åˆ«ä¸°å¯Œçš„å›¾ç‰‡
  - ç¼ºç‚¹ï¼šæ”¯æŒçš„é¢œè‰²æ¯”è¾ƒå°‘ï¼Œä¸é€‚åˆé¢œè‰²ä¸°å¯Œä¸”ç›¸è¿‘çš„å›¾ç‰‡
- png24ï¼š2^24è‰²+ä¸æ”¯æŒé€æ˜
  - æ¯ä¸€ä¸ªç´¢å¼•å€¼æ˜¯png8çš„ä¸‰å€
- png32ï¼š2^24è‰²+æ”¯æŒé€æ˜
  - ç›¸æ¯”äºpng24ï¼Œå¢åŠ äº†8ä½ï¼Œç”¨äºæ”¯æŒé€æ˜

###### webpå‹ç¼©ç¨‹åº¦æ›´å¥½ï¼Œå†ioså’Œwebviewæœ‰å…¼å®¹æ€§é—®é¢˜

- å‹ç¼©ç¨‹åº¦æ›´å¥½ï¼Œå»ºè®®å®‰å“å…¨éƒ¨ä½¿ç”¨

###### svgçŸ¢é‡å›¾ï¼Œä»£ç å†…åµŒï¼Œç›¸å¯¹è¾ƒå°ï¼Œå›¾ç‰‡æ ·å¼ç›¸å¯¹ç®€å•çš„åœºæ™¯

- æƒ…æ™¯ï¼šå›¾ç‰‡æ ·å¼ç›¸å¯¹ç®€å•çš„ä¸šåŠ¡åœºæ™¯
- ä¾‹å¦‚ iconåº“ï¼Œæˆ–è€…å…¶ä»–åº“....

###### gif æ”¯æŒåŠ¨ç”»



##### å›¾ç‰‡å‹ç¼©

> æœ¬è´¨ï¼šé’ˆå¯¹å›¾ç‰‡çœŸå®æƒ…å†µï¼Œèˆå¼ƒä¸€äº›ç›¸å¯¹æ— å…³ç´§è¦çš„è‰²å½©ä¿¡æ¯
>
> - cssé›ªç¢§å›¾ï¼šä¸€äº›å›¾ç‰‡åˆå¹¶åˆ°ä¸€å¼ å›¾ç‰‡ï¼Œå‡å°‘ç½‘ç«™çš„HTTPè¯·æ±‚æ•°é‡ï¼ˆä¸å¸¸ç”¨ï¼‰
>   - [Sprite Cow é›ªç¢§å›¾åˆ¶ä½œ - Generate CSS for sprite sheets](http://www.spritecow.com/)



###### Image inline

- å°†å›¾ç‰‡çš„å†…å®¹å†…åµŒåˆ°htmlä¸­ï¼Œå‡å°‘ç½‘ç«™çš„httpè¯·æ±‚æ•°é‡
- é€‚åˆå¤§å°è¾ƒå°çš„å›¾ç‰‡ï¼Œå»ºè®®8kbä»¥ä¸‹åšinline imageä½¿ç”¨
- ç‰¹ç‚¹ï¼šå¯¼è‡´é¡µé¢æ–‡ä»¶å˜å¤§ï¼Œä½†å‡å°‘äº†ä¸€æ¬¡httpè¯·æ±‚
- ![image-20211213162118143](images/å…¶ä»–æ¦‚å¿µ/image-20211213162118143.png)

###### svgçŸ¢é‡å›¾

- ä½¿ç”¨svgæ ‡ç­¾è¿›è¡ŒçŸ¢é‡å›¾çš„ç»˜åˆ¶
- ä½¿ç”¨iconfontè§£å†³iconé—®é¢˜
- ä¼˜ç‚¹ï¼šé€Ÿåº¦å’Œå¤§å°éƒ½ä¼šæœ‰å¾ˆå¥½çš„ä¼˜åŒ–
- å­¦ä¹ ï¼šw3c

###### webp

- ä¼˜åŠ¿ï¼šå…·æœ‰æ›´ä¼˜çš„å›¾åƒæ•°æ®å‹ç¼©ç®—æ³•ï¼Œèƒ½å¸¦æ¥æ›´å°çš„ä½“ç§¯ï¼Œæ‹¥æœ‰æ— å·®åˆ«çš„å›¾åƒè´¨é‡
- å…·å¤‡æ— æŸå’Œæœ‰æŸçš„å‹ç¼©æ¨¡å¼ã€Alphaé€æ˜ã€åŠ¨ç”»ç‰¹æ€§
- å†PNGå’ŒJPEGä¸Šçš„è½¬å“ˆæ•ˆæœéƒ½éå¸¸ä¼˜ç§€ã€ç¨³å®šå’Œç»Ÿä¸€

##### è½¬æ¢æ–¹æ³•

###### æ ¼å¼è½¬æ¢

- [TinyPNG â€“ Compress WebP, PNG and JPEG images intelligently](https://tinypng.com/)
- [æ™ºå›¾_å›¾ç‰‡å‹ç¼©åœ¨çº¿å·¥å…·_åœ¨çº¿åˆ¶ä½œwebp (isux.us)](https://zhitu.isux.us/)
- [SVG æ•™ç¨‹ (w3school.com.cn)](https://www.w3school.com.cn/svg/index.asp)
- å›¾ç‰‡æ ¼å¼çš„é™çº§ï¼šå…¼å®¹æ€§æœåŠ¡ï¼Œå¦‚æœä¸æ”¯æŒæ›´å¥½çš„webpæ ¼å¼ï¼Œè‡ªåŠ¨è½¬åŒ–ä¸ºjpgæ ¼å¼(æ·˜å®ç½‘)
- è½¬æ¢æ–¹æ³•
  - æ‰‹åŠ¨æ›´æ”¹è½¬æ¢
  - ä½¿ç”¨webpack æˆ–è€… fis3 ç­‰å…¶ä»–è‡ªåŠ¨åŒ–å·¥å…·ï¼Œè¿›è¡Œæ’ä»¶é…ç½®è¿˜èƒ½æ§åˆ¶å‹ç¼©ç‡
  - åç«¯æœåŠ¡è‡ªåŠ¨è½¬æ¢

![image-20211213204333298](images/å…¶ä»–æ¦‚å¿µ/image-20211213204333298.png)



#### csså’Œjsçš„è£…è½½ä¸æ‰§è¡Œ

- å­¦ä¹ ç›®æ ‡ï¼š
  1. ç†è§£æµè§ˆå™¨ç«¯ htmlã€cssã€jsçš„åŠ è½½è¿‡ç¨‹
  2. ç»“åˆ chrome çš„èƒ½åŠ›å­¦ä¹ æŒæ¡åŠ è½½è¿‡ç¨‹ä¸­çš„ä¼˜åŒ–ç‚¹
- æ¸²æŸ“çš„è¿‡ç¨‹
  1. æ‹¿åˆ°htmlæ–‡ä»¶åæ¸²æŸ“ä¸ºDOMæ ‘
     - HTMLæ¸²æŸ“ç‰¹ç‚¹
     - è¯æ³•åˆ†æï¼Œç”±ä¸Šè‡³ä¸‹é¡ºåºæ‰§è¡Œç”ŸæˆDOMï¼Œ
     - å¤šç§èµ„æºçš„åŠ è½½æ˜¯å¹¶å‘è¿›è¡ŒåŠ è½½çš„(å—æµè§ˆå™¨å¯¹å•ä¸ªåŸŸåå¹¶å‘è¯·æ±‚é™åˆ¶)ï¼Œå› æ­¤ä¸€ä¸ªç½‘ç«™å¸¸ä½¿ç”¨å¤šä¸ªcdnæœåŠ¡
     - æ˜¯å¦é˜»å¡ï¼šcssåŠ è½½é˜»å¡jsåŠ è½½ï¼ŸjsåŠ è½½é˜»å¡jsæ‰§è¡Œï¼Ÿ
       - css åœ¨headä¸­é˜»å¡é¡µé¢çš„æ¸²æŸ“ï¼Œå½“cssåŠ è½½å®Œå†æ¸²æŸ“html(æ¨è)
       - cssé˜»å¡jsçš„æ‰§è¡Œï¼Œå› ä¸ºjsçš„æ‰§è¡Œå¯èƒ½æ“ä½œcssçš„å†…å®¹
       - cssä¸é˜»å¡å¤–éƒ¨è„šæœ¬çš„åŠ è½½ï¼Œå¹¶å‘åŠ è½½
       - ç›´æ¥å¼•å…¥çš„jsé˜»å¡é¡µé¢çš„æ¸²æŸ“ï¼Œå­˜åœ¨jsæ“ä½œdomæ—¶ï¼Œå½±å“domåŠ è½½
       - jsä¸é˜»å¡èµ„æºçš„åŠ è½½ï¼ˆæœ‰ä¸€ä¸ªé¢„å…ˆæ‰«æå™¨ï¼Œä¸æ‰§è¡Œå…ˆåŠ è½½ï¼‰
       - jsé¡ºåºæ‰§è¡Œï¼Œé˜»å¡åç»­jsé€»è¾‘çš„æ‰§è¡Œ
     - ä¾èµ–å…³ç³»ï¼šcssèµ„æºåŠ è½½è¿‡æ…¢æ—¶ï¼Œå‡ºç°å±é—ªé—®é¢˜(ç­‰å®Œå…¨æ¸²æŸ“å®Œåå†æ˜¾ç¤º)
     - å¼•å…¥æ–¹å¼ï¼š
       - cssï¼šlink å’Œ @import
       - jsï¼šscript å’Œ è·¯ç”±åŠ¨æ€å¼•å…¥ å’Œ å’Œ 
  2. å†æ ¹æ®cssæ ·å¼ç”ŸæˆCSSOMæ ‘
  3. å°†ä¸¤è€…åˆå¹¶æ¸²æŸ“ä¸ºé¡µé¢

![image-20211213211431367](images/å…¶ä»–æ¦‚å¿µ/image-20211213211431367-16610832539038.png)



#### CSS

- ä½¿ç”¨`transfrom`,æ‰‹åŠ¨å¼€å¯3dæ¨¡å¼ï¼Œå¯ä»¥ä»£å¼€ç³»ç»Ÿæ¸²æŸ“
  - å¯¹æ¯”`position`å®šä½çš„ç§»åŠ¨ï¼Œä¼šå¥½å¾ˆå¤šï¼ˆé€šè¿‡æµè§ˆå™¨â€œæ€§èƒ½ performanceâ€ ç›‘æµ‹æ•°æ®ï¼‰
  - https://www.cnblogs.com/rmticocean/articles/16918354.html



#### JS

- å°½å¯èƒ½é¿å…æ±¡æŸ“å…¨å±€å˜é‡ï¼Œå…¨å±€å£°æ˜çš„å˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶
- å±€éƒ¨å˜é‡åœ¨ä»£ç è°ƒç”¨ç»“æŸä¹‹åï¼Œå°±ä¼šé‡Šæ”¾å¯¹åº”çš„å†…å­˜ç©ºé—´ï¼Œæé«˜ä»£ç æ€§èƒ½





#### æ€»ç»“-ä¼˜åŒ–ç‚¹

1. å‡å°‘HTTPè¯·æ±‚æ•°é‡

   - å¤šåŸŸå ä¸è¶…è¿‡6ä¸ªï¼Œæœ‰çš„ä¼šæ ¹æ®åŸŸåè¿›è¡Œé™åˆ¶ï¼ŒåŒä¸€åŸŸååŒä¸€æ—¶åˆ»ä¼šé™åˆ¶è¯·æ±‚æ•°é‡
   - åˆå¹¶ä»£ç ï¼Œä½¿ç”¨é›ªç¢§å›¾ã€ç²¾çµå›¾æˆ–canvasã€svgç­‰æ–¹å¼å°†å›¾ç‰‡è½¬ä¸ºä»£ç 
   - ä½¿ç”¨æ›´åˆç†çš„ä»£ç é€»è¾‘ï¼Œé˜²æŠ–èŠ‚æµç­‰å‡å°‘è¯·æ±‚

2. å‹ç¼©è¯·æ±‚æ•°æ®çš„å¤§å°ï¼Œå‡å°‘æ¯æ¬¡è¯·æ±‚çš„ä»£ç é‡

   - ä¸€èˆ¬å€ŸåŠ©æ‰“åŒ…å·¥å…·ï¼Œå¯¹ä»£ç ã€å›¾ç‰‡è¿›è¡Œå‹ç¼©
   - ä»£ç é€»è¾‘ä¸­å»é™¤é‡å¤çš„  è„šæœ¬/ä»£ç  å¼•ç”¨

3. è¾ƒå°‘cookieä½“ç§¯ï¼Œä¼šåœ¨æ¯æ¬¡è¯·æ±‚ä¸­æºå¸¦ï¼Œå½±å“è¯·æ±‚çš„é€Ÿåº¦

4. å»¶è¿ŸåŠ è½½éå¿…è¦çš„å¼•ç”¨è„šæœ¬ - å½“å‰å¤ªæ…¢ï¼Œç å½“å‰

   - å‡æ‘Šç¬¬ä¸€æ¬¡åŠ è½½æ—¶çš„ä»»åŠ¡é‡ï¼Œæå‡ä½“éªŒ

5. é¢„åŠ è½½å¯èƒ½éœ€è¦çš„å†…å®¹ - å½“å‰å¤ªæ…¢ï¼Œç‰ºç‰²ä¸Šæ¬¡

   - åœ¨ä¸Šæ¬¡åŠ è½½ä¸­ æå‰åŠ è½½æœ¬æ¬¡éœ€è¦çš„å†…å®¹

6. å‡å°‘DOMå…ƒç´ çš„å±‚çº§

7. å‡å°‘cssä»£ç ä¸­ï¼Œæ ‡ç­¾åµŒå¥—çš„å±‚çº§

8. å‡å°‘DOMçš„è®¿é—®æ¬¡æ•°ï¼Œè¾ƒå°‘DOMçš„é‡æ„(å›æµ)ï¼Œå’Œä¸å¿…è¦çš„é‡ç»˜

9. ä½¿ç”¨ç‰¹åˆ«çš„å±æ€§ï¼Œopacityã€transformã€

   > è¿™äº›å±æ€§èƒ½å¤Ÿåœ¨ä¸åŒçš„å±‚ï¼Œè¿›è¡Œå•ç‹¬ç»˜åˆ¶ï¼Œä¸ä¼šå¯¼è‡´é¡µé¢é‡ç»˜
   >
   > é—´æ¥ä½¿ç”¨è®¾å¤‡GPUç¡¬ä»¶æ¸²æŸ“ï¼Œæå‡æ•ˆç‡

10. åˆç†åˆ©ç”¨HTTPç¼“å­˜ï¼Œæµè§ˆå™¨ç¼“å­˜ï¼Œåˆ©ç”¨é™æ€èµ„æº

    - æœ¬åœ°ç¼“å­˜ã€é¿å…é‡å¤åŠ è½½







##### ç½‘é¡µåŠ è½½é˜¶æ®µåˆ†æ

1. ç½‘é¡µèµ„æºè¯·æ±‚ä¸åŠ è½½é˜¶æ®µ ( DevToolsæŸ¥çœ‹è¯·æ±‚å„é˜¶æ®µè€—æ—¶)

   - æµè§ˆå™¨å¯¹æ¯ä¸ªæºå…è®¸çš„TCPè¿æ¥æ•°é‡é™åˆ¶

     > ç°çŠ¶ï¼šChromeåŸºäº `http`åªå…è®¸6ä¸ªTCPåŒä¸€æ—¶åˆ»è¿æ¥åŒä¸€æº
     >
     > æ–¹æ¡ˆï¼š
     >
     > - å°†å¤šä¸ªèµ„æºåˆ†å¸ƒåœ¨ä¸åŒçš„å­åŸŸåä¸Šï¼Œå‡å°‘è¯·æ±‚é˜Ÿåˆ—çš„ç­‰å¾…æ—¶é—´ï¼›
     > - ä½†ä¸åŒçš„åŸŸï¼Œéœ€è¦ä¸åŒçš„DNSåŸŸåè§£æè¿‡ç¨‹ï¼ˆé€šå¸¸åˆ’åˆ†ä¸º 3-5 ä¸ªåŸŸåæ¯”è¾ƒåˆé€‚ï¼‰
     > - DNSè§£æè®°å½•ä¼šåœ¨æµè§ˆå™¨ä¸­è¿›è¡Œç¼“å­˜ï¼Œå› æ­¤æ¨èä½¿ç”¨ `å…¬å…±CDNæ‰˜ç®¡`

2. ç½‘é¡µæ¸²æŸ“é˜¶æ®µ( DevToolsæŸ¥çœ‹ç½‘é¡µæ¸²æŸ“å„éƒ¨åˆ†è€—æ—¶`Paining\Rendering`)

   - è·å–HTMLç”ŸæˆDOMæ ‘ï¼ŒåŒæ—¶ä¸‹è½½cssã€jsæ–‡ä»¶

   - å°†CSSè§£æä¸º`CSSOM å±‚å æ ·å¼è¡¨æ¨¡å‹`

     > è¿‡äºå¤æ‚çš„cssåµŒå¥—è§„åˆ™ä¼šå½±å“CSSOMçš„ç”Ÿæˆï¼Œå¯¼è‡´æ¸²æŸ“æ—¶é—´å»¶é•¿

   - JSå¼•æ“å¤„ç†JS

     > å¦‚æœåœ¨é¡µé¢æ¸²æŸ“æ—¶ï¼Œä½¿ç”¨JSæ“ä½œDOMï¼Œåˆ™ä¼šé˜»å¡æ¸²æŸ“
     >
     > æ¨èæ–¹æ¡ˆï¼šå°†Jsä»£ç æ”¾åœ¨é¡µé¢ä»£ç åº•éƒ¨      `</body>`å‰

   - å°†DOMå’ŒCSSOM æ„å»ºæˆä¸º`æ¸²æŸ“æ ‘`ï¼Œç”Ÿæˆç”¨æˆ·ç•Œé¢



